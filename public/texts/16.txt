Задача 16 
1.	Спроектируйте базу данных University для автоматизации учета информации о филиалах учебного заведения. 
Учебное заведение имеет несколько филиалов. Для каждого филиала должна храниться следующая информация: 
•	номер филиала (уникален, содержит только цифры);
•	адрес;
•	дата последнего подтверждения государственной аккредитации. 
В учебном заведении хранится информация обо всех группах каждого из филиалов:
•	номер филиала, к которому относится группа;
•	номер группы (уникален);
•	курс;
•	количество учащихся в группе.  
В СУБД MY SQL, используя команды определения данных создать базу данных.  Создать таблицы Филиал и Группа, для каждой таблицы определив первичные ключи. Определить в подчиненной таблице внешний ключ. Создать связь между таблицами с помощью внешнего ключа, обеспечив каскадное удаление и обновление данных. (+1)
2.	Используя команды манипулирования данными, добавить в созданные таблицы по пять записей, таких чтобы результаты нижеперечисленных запросов содержали не менее одной записи. (+1)
  
3.	Используя команды языка SQL, выполнить следующие действия:

1)	 Написать  запросы для получения следующей информации (результаты выполнения запросов не должны быть пустыми); выведите адреса филиалов и номера групп для всех филиалов, проходивших Государственную аккредитацию осенью. (+1)
2)	Написать хранимую процедуру вычисляющую количество групп для заданного филиала. Номер филиала передается в процедуру в качестве параметра. (+2)
3)	Продемонстрировать вызов процедуры и проссмотр результата ее работы. (+1)

-- 1. Создание БД и таблиц
CREATE DATABASE IF NOT EXISTS University;
USE University;

CREATE TABLE IF NOT EXISTS Филиал (
    номер INT PRIMARY KEY CHECK (номер REGEXP '^[0-9]+$'),
    адрес VARCHAR(255),
    дата_аккредитации DATE
);

CREATE TABLE IF NOT EXISTS Группа (
    номер_группы INT PRIMARY KEY,
    номер_филиала INT,
    курс INT,
    количество_учащихся INT,
    FOREIGN KEY (номер_филиала) REFERENCES Филиал(номер)
    ON DELETE CASCADE ON UPDATE CASCADE
);

-- 2. Вставка данных
INSERT INTO Филиал VALUES 
(4, 'ул. Пушкина, 7', '2023-09-22'),
(5, 'пр. Ленина, 15', '2023-11-30');

INSERT INTO Группа VALUES 
(401, 4, 2, 25),
(402, 4, 1, 30),
(501, 5, 3, 18);

-- 3. SQL-запросы
-- 1) Группы с осенней аккредитацией
SELECT f.адрес, g.номер_группы 
FROM Филиал f
JOIN Группа g ON f.номер = g.номер_филиала
WHERE MONTH(f.дата_аккредитации) BETWEEN 9 AND 11;

-- 2) Хранимая процедура
DELIMITER $$
CREATE PROCEDURE КоличествоГрупп(IN филиал_id INT)
BEGIN
    SELECT COUNT(*) AS количество_групп 
    FROM Группа 
    WHERE номер_филиала = филиал_id;
END $$
DELIMITER ;

-- 3) Вызов процедуры
CALL КоличествоГрупп(4);
